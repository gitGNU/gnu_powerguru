2005-09-18  Rob Savoye  <rob@bertha.welcomehome.org>

	* lib/msgs.cc: Add a warning message so unimplemented messages
	also have a response.
	* lib/msgs.cc: Add more accessors for the IP data.
	* client/cmd.cc: Check the console for messages too.
	* daemon/main.cc: Handle errors better when the socket is
	shutdown.
	* web/control.php: Use non blocking socket I/O.
	* web/xml.php: Add XML parser and networking.
	* lib/tcpip.cc: Don't check the console when blocked on a select
	by default.
	* lib/tcpip.cc: Add a method to toggle console checking.

2005-09-16  Rob Savoye  <rob@bertha.welcomehome.org>

	* web/xml.php: New script for XML parsing and creation functions.
	* web/control.php: New script for remote control via the XML
	interface.

2005-09-15  Rob Savoye  <rob@bertha.welcomehome.org>

	* daemon/main.cc: Include xml.h and msgs.h. Use new messaging
	system. 
	* lib/console.c: Make the console be non-blocking.
	* lib/msgs.cc: Add handlers for more tags. Make new methods to
	process and create more XML messages.
	* lib/msgs.h: Add enums for more message types. Make new methods
	to process and create more XML messages.

2005-08-25  Rob Savoye  <rob@cree.moongulch.net>

	* lib/xantrex-trace.cc: Change the heading to force a clear
	restart for polling the meters.
	* daemon/main.cc: Don't check the console when polling meters.

2005-08-24  Rob Savoye  <rob@cree.moongulch.net>

	* daemon/main.cc: The -p option doesn't take an argument. Also
	default to Xantrex mode when meter polling is specified.
	* lib/console.cc: Don't put the console in raw mode.
	* lib/mysql.cc: Use ostringstream to format query for meter_data.
	* lib/xantrex-trace.cc: Go down and then up through the
	meters. Set the appropriate field in the meter_data to match the
	read value.

2005-08-20  Rob Savoye  <rob@bertha.welcomehome.org>

	* daemon/main.cc (main): Add support for --help and --version.
	* client/cmd.cc (main):  Add support for --help and --version.

	* client/cmd.cc (main): Remove tcpip code, it's now inherited by
	the Msgs class.Use the new anydata() method to process socket
	messages. On an socket error, exit if you are the client, and
	restart the socket if you ar the daemon.
	* configure.ac: Increment version to 0.3.
	* lib/log.cc: Add operator for << (xmlChar *) so we can print
	XML nodes directly.
	* lib/log.h: Add operator for << (xmlChar *) so we can print
	XML nodes directly.
	* lib/msgs.cc: Inherit from Tcpip class. Have a daemon and
	client mode. Initialize the table of pointers and the network
	now.
	* lib/msgs.h: Inherit from Tcpip class. Have a daemon and
	client mode.
	* lib/tcpip.cc (anydata): Use a vector instead of an array.
	* lib/tcpip.h (anydata): Use a vector instead of an array.
	* lib/xml.cc: Return an xmlChar instead of a std::string.
	* lib/xml.h: Return an xmlChar instead of a std::string.

2005-08-19  Rob Savoye  <rob@bertha.welcomehome.org>

	* configure.ac:	Use out own libxml2 macro. Add support for cross
	configuration and cross compilation to support Cygwin and Mingw.
	* configure: Rebgenerated.
	* */Makefile.am: Use newer LIBXML & XML_CPPFLAGS variables.
	* */Makefile.in: Regenerated.
	* client/cmd.cc: Add XML networking support.
	* lib/tcpip.{cc,h}: Add methods to extract the tcp/ip data from
	the connection.
	* lib/xml.{cc,h}: Rewrite everything so it works as this code was
	originally based on another project I wrote.
	* macros/snmp.m4: Don't enable SNMP support by default.
	* lib/msgs.{cc,h}: New files for XML based networking system.

2005-08-10  Rob Savoye  <rob@cree.moongulch.net>

	* Makefile.am: Add new client and testsuite directories.
	* Makefile.in, client/Makefile.in: Regenerated,
	* lib/Makefile.am: Add XML support. Add tcpip, tcputil, and xml
	new files.
	* daemon/main.cc: Add options for daemon or client mode,
	* web/support.php, web/plotdata.php: Use meters for the tables
	instead of inverters.
	* client/Makefile.am: New directory for remote clients.
	* client/cmd.cc: New command line remote client.
	* lib/xml.h, xml.cc: New support for an XML based networking
	system.
	* lib/tcpip.h, tcp.cc: New support for basic tcp/ip networkng
	class.
	* lib/tcputil.h, tcputil.cc: New support for basic low level
	networking system calls for manipulating hostent and servent
	structures.
	* testsuite/Makefile.am: New Makefile for top level tests.
	* testsuite/Makefile.in: Generated.
	* testsuite/libtests/Makefile.am: New Makefile for test cases.
	* testsuite/libtests/Makefile.in: Generated.
	* testsuite/libtests/tcpip-tests.cc: New test case for Tcpip
	class.
	* testsuite/libtests/tcputil-tests.cc: New test for Tcputil
	class.
	* testsuite/libtests/childtcpip.cc: New test case for tcpip
	class.

2005-08-06  Rob Savoye  <rob@bertha.welcomehome.org>

	* snmp/POWERGURU-MIB.txt: Use inassigned enterprise number.
	* snmp/powerguru.c: Regenerated by mib2c.
	* snmp/POWERGURU-MIB.txt: Update the contact info.
	* lib/snmp.cc: Rename main() to master().
	* daemon/main.cc: Call SnmpDaemon::master() instead of
	SnmpDaemon::main().

2005-08-06  Rob Savoye  <rob@direwolf.welcomehome.org>

	* lib/serial.cc:  Cleanup compilation warnings about unused
	variables till -Wall is happy.
	* daemon/main.cc: Cleanup compilation warnings about unused
	variables till -Wall is happy.
	* lib/console.cc: Cleanup compilation warnings about unused
	variables till -Wall is happy.
	* lib/err.cc:  Cleanup compilation warnings about unused
	variables and no return values till -Wall is happy.
	* lib/log.cc:  Cleanup compilation warnings about unused
	variables and no return values till -Wall is happy.
	* lib/menuitem.cc:  Cleanup compilation warnings about unused
	variables and no return values till -Wall is happy.
	* lib/mysql.cc:  Cleanup compilation warnings about unused
	variables and no return values till -Wall is happy.
	* lib/outbackpower.cc:  Cleanup compilation warnings about unused
	variables and no return values till -Wall is happy.
	* lib/proc.cc:  Cleanup compilation warnings about unused
	variables and no return values till -Wall is happy.
	* lib/rc.cc:  Cleanup compilation warnings about unused
	variables and no return values till -Wall is happy.
	* lib/sem.cc:  Cleanup compilation warnings about unused
	variables and no return values till -Wall is happy.
	* lib/snmp.cc:  Cleanup compilation warnings about unused
	variables and no return values till -Wall is happy.
	* lib/xantrext-trace.cc:  Cleanup compilation warnings about
	unused variables and no return values till -Wall is happy.
	* lib/sem.h: Add pragma so we don't get buried in warnings as this
	is still mostly unimplemented, and totally unused for now.
	* macros/snmp.m4 (AC_PATH_SNMP): Edit out the -Wstrict-prototypes
	option net-snmp-config gives us, as it's not used for C++ code.
	* doc/C/powerguru.xml: Make reference to Xantrex and Outback
	products links.
	* Makefile.am: Add top level mudflap target.
	* Makefile.in: Regenerated with automake 1.9a.
	* lib/Makefile.am: Add -Wall to AM_CPPFLAGS. Add mudflap target.
	* lib/Makefile.in: Regenerated with automake 1.9a.
	* daemon/Makefile.am:  Add -Wall to AM_CPPFLAGS. Add mudflap
	target.
	* daemon/Makefile.in: Regenerated with automake 1.9a.
	* configure.ac: Look for C++ compiler, not just C. Link the images
	directory in doc/C to the srcdir so we can browse the HTML without
	installing.
	* configure: Regenerated with autoconf 2.59c.

2005-08-05  Rob Savoye  <rob@bertha.welcomehome.org>

	* configure.ac: Link to the images directory so we can browse the
	HTML output without installing it.
	* configure: Regenerated.
	* doc/C/powerguru.xml: Add image of off-grid geodesic domes.
	* doc/C/domes.png: Add image of off-grid geodesic domes.
	* doc/C/{xantrex.xml,outback.xml}: Fix table and colmun widths to
	look better for both HTML and PDF output.

2005-07-25  Rob Savoye  <rob@cree.moongulch.net>

	* sim/Makefile.am: Add MYSQL_LIBS to LDADD.
	* */Makefile.in: All regenerated.
	* Initial checkin.
	

